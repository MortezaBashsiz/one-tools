---

- :action: create
  :type: host
  :name: localhost
  :im: kvm
  :vmm: kvm
  :vnm: dummy

- :action: create
  :type: image
  :ds_id: 1
  :template:
    :name: c7
    :type: OS
    :path: /home/jmelis/work/vm-images/centos-7.qcow2
    :driver: qcow2
    :prefix: vd

- :action: create
  :type: image
  :ds_id: 1
  :template:
    :name: ttylinux
    :type: OS
    :path: /home/jmelis/work/vm-images/ttyvd-context.qcow2
    :prefix: vd
    :driver: qcow2

- :action: create
  :type: net
  :template:
    :name: private
    :bridge: br0
    :dns: 10.3.4.1
    :model: virtio
    :ar:
      - ip: 10.3.4.20
        :size: 235
        :type: IP4

- :action: create
  :type: template
  :template:
    :name: c7
    :cpu: 1
    :memory: 512
    :arch: x86_64
    :disk:
      :image: c7
    :nic:
      :network: private
    :graphics:
      :type: vnc
      :listen: 0.0.0.0
    :context:
      :ssh_public_key: $USER[SSH_PUBLIC_KEY]
      :network: YES

- :action: create
  :type: template
  :template:
    :name: tty
    :cpu: 0.1
    :memory: 64
    :arch: x86_64
    :disk:
      :image: ttylinux
    :nic:
      :network: private
    :context:
      :ssh_public_key: $USER[SSH_PUBLIC_KEY]
      :network: YES
    :graphics:
      :type: vnc
      :listen: 0.0.0.0

